(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(22),c=n.n(s),o=(n(44),n.p,n(15)),r=n(3),i=(n(45),n(12)),u=n(13),d=n(4),l=n(19),h=n(17),j=n(14),b=n(11),p=n.n(b),v=n(21),O="CREATE_TODO",f="RETRIEVE_TODOS",m="UPDATE_TODO",x="DELETE_TODO",g=n(36),T=n.n(g).a.create({baseURL:"http://edwin-todos.ipd24.ca/api",headers:{"Content-type":"application/json"}}),k=new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"getAll",value:function(){return T.get("/todos")}},{key:"get",value:function(e){return T.get("/todo/".concat(e))}},{key:"create",value:function(e){return T.post("/add",e)}},{key:"update",value:function(e,t){return T.put("/todo/".concat(e),t)}},{key:"delete",value:function(e){return T.delete("/todo/".concat(e))}}]),e}()),y=n(1),C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeTask=a.onChangeTask.bind(Object(d.a)(a)),a.onChangeDue=a.onChangeDue.bind(Object(d.a)(a)),a.onChangeStatus=a.onChangeStatus.bind(Object(d.a)(a)),a.saveTodo=a.saveTodo.bind(Object(d.a)(a)),a.newTodo=a.newTodo.bind(Object(d.a)(a)),a.state={id:null,task:"",due:null,status:"pending",submitted:!1},a}return Object(u.a)(n,[{key:"onChangeTask",value:function(e){this.setState({task:e.target.value})}},{key:"onChangeDue",value:function(e){this.setState({due:e.target.value})}},{key:"onChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"saveTodo",value:function(){var e=this,t=this.state,n=t.task,a=t.due,s=t.status;this.props.createTodo(n,a,s).then((function(t){e.setState({id:t.id,task:t.task,due:t.due,status:t.status,submitted:!0}),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"newTodo",value:function(){this.setState({id:null,task:"",due:null,status:"pending",submitted:!1})}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(y.jsxs)("div",{children:[Object(y.jsx)("h4",{children:"You submitted successfully!"}),Object(y.jsx)("button",{className:"btn btn-success",onClick:this.newTodo,children:"Add"})]}):Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"task",children:"Task"}),Object(y.jsx)("input",{type:"text",className:"form-control",id:"task",required:!0,value:this.state.task,onChange:this.onChangeTask,name:"task"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"due",children:"Due"}),Object(y.jsx)("input",{type:"date",className:"form-control",id:"due",required:!0,value:this.state.due,onChange:this.onChangeDue,name:"due"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"status",children:"Status"}),Object(y.jsx)("input",{type:"text",className:"form-control",id:"status",required:!0,value:this.state.status,onChange:this.onChangeStatus,name:"status"})]}),Object(y.jsx)("button",{onClick:this.saveTodo,className:"btn btn-success",children:"Submit"})]})})}}]),n}(a.Component),N=Object(j.b)(null,{createTodo:function(e,t,n){return function(){var a=Object(v.a)(p.a.mark((function a(s){var c,o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.create({task:e,due:t,status:n});case 3:return c=a.sent,a.next=6,k.get(c.data);case 6:return o=a.sent,s({type:O,payload:o.data}),a.abrupt("return",Promise.resolve(o.data));case 11:return a.prev=11,a.t0=a.catch(0),a.abrupt("return",Promise.reject(a.t0));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}})(C),D=n(10),S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeTask=a.onChangeTask.bind(Object(d.a)(a)),a.onChangeDue=a.onChangeDue.bind(Object(d.a)(a)),a.onChangeStatus=a.onChangeStatus.bind(Object(d.a)(a)),a.getTodo=a.getTodo.bind(Object(d.a)(a)),a.updateContent=a.updateContent.bind(Object(d.a)(a)),a.removeTodo=a.removeTodo.bind(Object(d.a)(a)),a.state={currentTodo:null,message:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getTodo(this.props.match.params.id)}},{key:"onChangeTask",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTodo:Object(D.a)(Object(D.a)({},e.currentTodo),{},{task:t})}})),console.log(this.state)}},{key:"onChangeDue",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTodo:Object(D.a)(Object(D.a)({},e.currentTodo),{},{due:t})}}))}},{key:"onChangeStatus",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTodo:Object(D.a)(Object(D.a)({},e.currentTodo),{},{status:t})}}))}},{key:"getTodo",value:function(e){var t=this;k.get(e).then((function(e){t.setState({currentTodo:e.data}),console.log(t.state.currentTodo)})).catch((function(e){console.log(e)}))}},{key:"updateContent",value:function(){var e=this;console.log(this.state.currentTodo),this.props.updateTodo(this.state.currentTodo.id,this.state.currentTodo).then((function(t){console.log(t),e.setState({message:"The todo was updated successfully!"})})).catch((function(e){console.log(e)}))}},{key:"removeTodo",value:function(){var e=this;this.props.deleteTodo(this.state.currentTodo.id).then((function(){e.props.history.push("/todos")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log("Rendering..."),Object(y.jsx)("div",{children:this.state.currentTodo?Object(y.jsxs)("div",{className:"edit-form",children:[Object(y.jsx)("h4",{children:"Todo"}),Object(y.jsx)("p",{children:this.state.currentTodo.id}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"task",children:"Task"}),Object(y.jsx)("input",{type:"text",className:"form-control",id:"task",value:this.state.currentTodo.task,onChange:this.onChangeTask})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"due",children:"Due"}),Object(y.jsx)("input",{type:"date",className:"form-control",id:"due",value:this.state.currentTodo.due,onChange:this.onChangeDue})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"status",children:"Status"}),Object(y.jsx)("input",{type:"text",className:"form-control",id:"status",value:this.state.currentTodo.status,onChange:this.onChangeStatus})]})]}),Object(y.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.removeTodo,children:"Delete"}),Object(y.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateContent,children:"Update"}),Object(y.jsx)("p",{children:this.state.message})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)("br",{}),this.props.match.params.id?Object(y.jsx)("p",{children:"Loading data ..."}):Object(y.jsx)("p",{children:"Please click on a Todo ..."})]})})}}]),n}(a.Component),w=Object(j.b)(null,{updateTodo:function(e,t){return function(){var n=Object(v.a)(p.a.mark((function n(a){var s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.update(e,t);case 3:return s=n.sent,a({type:m,payload:s.data}),n.abrupt("return",Promise.resolve(s.data));case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},deleteTodo:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.delete(e);case 3:a=t.sent,n({type:x,payload:{id:e}}),console.log(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(S),A=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).refreshData=a.refreshData.bind(Object(d.a)(a)),a.setActiveTodo=a.setActiveTodo.bind(Object(d.a)(a)),a.state={currentTodo:null,currentIndex:-1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.retrieveTodos()}},{key:"refreshData",value:function(){this.setState({currentTodo:null,currentIndex:-1})}},{key:"setActiveTodo",value:function(e,t){this.setState({currentTodo:e,currentIndex:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentTodo,a=t.currentIndex,s=this.props.todos;return Object(y.jsxs)("div",{className:"list row",children:[Object(y.jsxs)("div",{className:"col-md-6",children:[Object(y.jsx)("h4",{children:"Todos List"}),Object(y.jsx)("ul",{className:"list-group",children:s&&s.map((function(t,n){return Object(y.jsx)("li",{className:"list-group-item "+(n===a?"active":""),onClick:function(){return e.setActiveTodo(t,n)},children:t.task},n)}))})]}),Object(y.jsx)("div",{className:"col-md-6",children:n?Object(y.jsxs)("div",{children:[Object(y.jsx)("h4",{children:"Todo"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:Object(y.jsx)("strong",{children:"Task:"})})," ",n.task]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:Object(y.jsx)("strong",{children:"Due Date:"})})," ",n.due]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:Object(y.jsx)("strong",{children:"Status:"})})," ",n.status]}),Object(y.jsx)(o.b,{to:"/todo/"+n.id,className:"badge badge-warning",children:"Edit"})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)("br",{}),Object(y.jsx)("p",{children:"Please click on a Todo..."})]})})]})}}]),n}(a.Component),E=Object(j.b)((function(e){return{todos:e.todos}}),{retrieveTodos:function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getAll();case 3:n=e.sent,t({type:f,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(A);var F=function(){return Object(y.jsx)(o.a,{children:Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("header",{children:Object(y.jsxs)("nav",{class:"container-fluid navbar navbar-expand navbar-dark bg-dark",children:[Object(y.jsx)(o.b,{to:"/todos",className:"navbar-brand",children:"React ToDo"}),Object(y.jsxs)("div",{class:"navbar-nav mr-auto",children:[Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)(o.b,{to:"/todos",className:"nav-link",children:"List All"})}),Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)(o.b,{to:"/add",className:"nav-link",children:"Add"})})]})]})}),Object(y.jsx)("div",{className:"container mt-3",children:Object(y.jsxs)(r.c,{children:[Object(y.jsx)(r.a,{exact:!0,path:["/","/todos"],component:E}),Object(y.jsx)(r.a,{exact:!0,path:"/add",component:N}),Object(y.jsx)(r.a,{path:"/todo/:id",component:w})]})})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),c(e),o(e)}))},I=n(18),L=n(37),R=n(38),_=n(39),q=[];var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case O:return[].concat(Object(_.a)(e),[a]);case f:return a;case m:return e.map((function(e){return e.id===a.id?Object(D.a)(Object(D.a)({},e),a):e}));case x:return e.filter((function(e){return e.id!==a.id}));default:return e}},U=Object(I.combineReducers)({todos:M}),B=[R.a],J=Object(I.createStore)(U,{},Object(L.composeWithDevTools)(I.applyMiddleware.apply(void 0,B)));c.a.render(Object(y.jsx)(j.a,{store:J,children:Object(y.jsx)(F,{})}),document.getElementById("root")),P()}},[[71,1,2]]]);
//# sourceMappingURL=main.2906fd2b.chunk.js.map